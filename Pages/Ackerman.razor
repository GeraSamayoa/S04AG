@page "/ackermann"

<PageTitle>Ackermann</PageTitle>

<!-- Se llama al componente NavMenuHeader -->
<NavMenuHeader />

<head>
	<link rel="stylesheet" href="~/css/Ackermann.css" />
</head>


<div class="containerAck">

	<div class="titleGridArk">
		<h1 class="titleAck">Función de Ackermann</h1>
	</div>

	<div class="inputmGrid">
		<!--Se solicita el ingreos del primer valor (m)-->
		<label class="labelAck" for="m_input">Ingrese el valor de m (primer número):</label>
		<input class="inputAck custom-placeholder" type="number" @bind="m" placeholder="    m" required />
	</div>
	<div class="inputnGrid">
		<!--Se solicita el ingreos del segundo valor (n)-->
		<label class="labelAck" for="n_input">Ingrese el valor de n (segundo número):</label>
		<input class="inputAck custom-placeholder" type="number" @bind="n" placeholder="     n" required />
	</div>
	<!--Por medio del boton se ejecuta la funcion Resultado y por medio del otro boton la funcion LimpiarValores-->
	<div class="buttonGrid">
		<button class="buttonAck" @onclick="Resultado" disabled="@(m.HasValue && (m < 0 || m > 3) || n.HasValue && (n < 0 || n > 3))">Calcular</button>
		<button class="buttonAck" @onclick="LimpiarValores">Limpiar</button>

	</div>

	<!--Se realizas las validaciones de los valores ingresados y se muestra el resultado de la funcion, asi como los mensajes de error correspondientes-->
	<div class="resultadoGrid">
		@if (m.HasValue && (m < 0 || m > 3))
		{
			<p class="errorResultadoAck">El primer número debe estar entre 0 y 3.</p>
		}
		@if (n.HasValue && (n < 0 || n > 3))
		{
			<p class="errorResultadoAck">El segundo número debe estar entre 0 y 3.</p>
		}
		@if (!m.HasValue || !n.HasValue)
		{
			<p class="resultadoAck">Ingrese los valores de m y n.</p>
		}
		else if (result.HasValue)
		{
			<p class="resultadoAck">El Resultado de @m y @n es: @result</p>
		}
	</div>
	<div class="barraGrid">
		<h2 class="labelAck">
			<svg xmlns="http://www.w3.org/2000/svg" width="10" height="195" viewBox="0 0 2 119" fill="none">
				<path d="M1 0L1 119" stroke="white" />
			</svg>
			<svg xmlns="http://www.w3.org/2000/svg" width="10" height="195" viewBox="0 0 2 119" fill="none">
				<path d="M1 0L1 119" stroke="white" />
			</svg>
		</h2>
	</div>
</div>

<!-- Se llama al componente Footer -->
<Footer />

@code {
	int? result;
	int? m;
	int? n;

	//Se realiza la funcion Resultado, la cual realiza las validaciones de los valores ingresados y se asigna el resultado de la funcion Ackermann a la variable result.
	void Resultado()
	{
		if ((m.HasValue && (m < 0 || m > 3)) || (n.HasValue && (n < 0 || n > 3)))
		{
			result = null;
			return;
		}

		result = Ackermann(m ?? 0, n ?? 0);
	}
	//Se realiza la funcion LimpiarValores, la cual limpia los valores ingresados y el resultado de la funcion.
	void LimpiarValores()
	{
		m = null;
		n = null;
		result = null;
	}

	//Se realiza la funcion Ackermann, la cual realiza la operacion de la funcion de Ackermann.
	int Ackermann(int m, int n)
	{
		if (m == 0)
		{
			return n + 1;
		}
		else if (n == 0)
		{
			return Ackermann(m - 1, 1);
		}
		else
		{
			return Ackermann(m - 1, Ackermann(m, n - 1));
		}
	}
}
